<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Dialog::KDialog
  
    &mdash; Dialog-fu 0.2 Documentation
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Dialog/KDialog.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (K)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Dialog.html" title="Dialog (module)">Dialog</a></span></span>
     &raquo; 
    <span class="title">KDialog</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Dialog::KDialog
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/dialog/kdialog.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="KDialog/ProgressBar.html" title="Dialog::KDialog::ProgressBar (class)">ProgressBar</a></span>
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#calendar-instance_method" title="#calendar (instance method)">- (Date nil) <strong>calendar</strong>(label: &quot;Choose a date&quot;) {|date| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Prompt for a date, providing a calendar.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#checkboxes-instance_method" title="#checkboxes (instance method)">- (Boolean) <strong>checkboxes</strong>(choices, label: &quot;&quot;) {|selection| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a set of checkboxes to the user, calls the selected method on the choices object.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#color-instance_method" title="#color (instance method)">- (Array&lt;Integer&gt; nil) <strong>color</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a color picker.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dialogbox-instance_method" title="#dialogbox (instance method)">- (Boolean) <strong>dialogbox</strong>(text, yesno: true, cancel: false, continue_btn: false, warning: false) { ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a standard dialog box.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dropdown-instance_method" title="#dropdown (instance method)">- (Boolean) <strong>dropdown</strong>(choices, label: &quot;Select one below&quot;) {|selection| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a dropdown box, calls the selected method on the choices object.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#filepicker-instance_method" title="#filepicker (instance method)">- (Array&lt;String&gt; String) <strong>filepicker</strong>(action: :save, type: :file, dir: ENV[&#39;HOME&#39;], multiple: false, filter: nil) {|path| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a file-picker box, for getting filenames or URLs from the user, for saving or opening.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#icon-instance_method" title="#icon (instance method)">- (Array&lt;(String, Boolean)&gt;) <strong>icon</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present an icon picker.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inputbox-instance_method" title="#inputbox (instance method)">- (Array&lt;(String, Boolean)&gt;) <strong>inputbox</strong>(prompt: &quot;Input some text&quot;, content: nil, height: 1, width: 40, password: false) {|input| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present an input box.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#messagebox-instance_method" title="#messagebox (instance method)">- (true) <strong>messagebox</strong>(text, type: :msgbox) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a message box, for displaying a little text to the user.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#notification-instance_method" title="#notification (instance method)">- (Object) <strong>notification</strong>(text, timeout: 3) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Raise a notification for the user.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#progressbar-instance_method" title="#progressbar (instance method)">- (ProgressBar) <strong>progressbar</strong>(steps: 100, title: &quot;Progress Bar&quot;, show_cancel: false, label: &quot;Working...&quot;, autoclose: true) {|bar| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a progress bar to the user; returns an object to control its desplay.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#radiobuttons-instance_method" title="#radiobuttons (instance method)">- (Boolean) <strong>radiobuttons</strong>(choices, label: &quot;&quot;, &amp;blk) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a set of radio buttons to the user, calls the selected method on the choices object.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#run-instance_method" title="#run (instance method)">- (Array&lt;(String, Boolean)&gt;) <strong>run</strong>(arglist) {|output| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>The return value from #run.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#selection-instance_method" title="#selection (instance method)">- (Boolean) <strong>selection</strong>(choices, label: &quot;&quot;, type: :check) </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Implementation of radiobuttons and checkboxes.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#slider-instance_method" title="#slider (instance method)">- (Integer nil) <strong>slider</strong>(label: &quot;Choose an amount&quot;, range: Range.new(0, 10), step: 1) {|n| ... }</a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Prompt for a number with a horizontal sliding numeric input.</p>
</div></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#textbox-instance_method" title="#textbox (instance method)">- (Array&lt;(String, Boolean)&gt;) <strong>textbox</strong>(text, height: 10, width: 40) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><div class="paragraph">
<p>Present a window for showing the user a large amount of text, potentially using horizontal and vertical scrollbars.</p>
</div></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="calendar-instance_method">
  
    - (<tt>Date nil</tt>) <strong>calendar</strong>(label: &quot;Choose a date&quot;) {|date| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Prompt for a date, providing a calendar</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>date</span>
      
      
        <span class='type'>(<tt>Date</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The date selected by the user, if any.  Otherwise, the block is not run.</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Date nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>A date object, or nil if user canceled</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


547
548
549
550
551
552
553
554
555
556
557</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 547</span>

<span class='kw'>def</span> <span class='id identifier rubyid_calendar'>calendar</span><span class='lparen'>(</span><span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Choose a date</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--calendar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='kw'>false</span>  <span class='comment'># NOTE: kdialog has exit status of 1 on success and 0 on failure, in this case!
</span>    <span class='id identifier rubyid_d'>d</span> <span class='op'>=</span> <span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_parse'>parse</span><span class='lparen'>(</span><span class='id identifier rubyid_out'>out</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_d'>d</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='kw'>and</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_d'>d</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="checkboxes-instance_method">
  
    - (<tt>Boolean</tt>) <strong>checkboxes</strong>(choices, label: &quot;&quot;) {|selection| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a set of checkboxes to the user, calls the selected method on the choices object.</p>
</div>
<div class="paragraph">
<p>Alternatively, sets boolean properties on a Struct-like choices object.
When more than one item is selected, the methods will be executed in the order they occur in choices#members</p>
</div>

  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><div class="paragraph">
<p>Using the checkboxes API, the simple Struct way&#8230;</p>
</div></div></p>
      
      <pre class="example code"><code><span class='const'>FoodSelection</span> <span class='op'>=</span> <span class='const'>Struct</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:sandwich</span><span class='comma'>,</span> <span class='symbol'>:soup</span><span class='comma'>,</span> <span class='symbol'>:salad</span><span class='rparen'>)</span>
<span class='id identifier rubyid_fs'>fs</span> <span class='op'>=</span> <span class='const'>FoodSelection</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
<span class='const'>Dialog</span><span class='period'>.</span><span class='id identifier rubyid_checkboxes'>checkboxes</span><span class='lparen'>(</span><span class='id identifier rubyid_fs'>fs</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>What&#39;ll it be?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>  <span class='comment'># Suppose user chooses sandwich and salad...
</span><span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_fs'>fs</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span>  <span class='comment'># =&gt; #&lt;struct sandwich=true, soup=false, salad=true&gt;</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><div class="paragraph">
<p>Using the checkboxes API, dispatching methods</p>
</div></div></p>
      
      <pre class="example code"><code><span class='kw'>class</span> <span class='const'>FoodShop</span>
  <span class='id identifier rubyid_attr_reader'>attr_reader</span> <span class='symbol'>:members</span><span class='comma'>,</span> <span class='symbol'>:default</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_default'>default</span><span class='rparen'>)</span>
    <span class='ivar'>@members</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='symbol'>:sandwich</span><span class='comma'>,</span> <span class='symbol'>:soup</span><span class='comma'>,</span> <span class='symbol'>:salad</span><span class='rbracket'>]</span>
    <span class='ivar'>@default</span> <span class='op'>=</span> <span class='id identifier rubyid_default'>default</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_text_of'>text_of</span><span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span><span class='rparen'>)</span>
    <span class='lbrace'>{</span><span class='label'>sandwich:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Sandwich</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>soup:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Soup of the day</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>salad:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Garden Salad</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='lbracket'>[</span><span class='id identifier rubyid_s'>s</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_sandwich'>sandwich</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Making a sandwich</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_soup'>soup</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_soups'>soups</span> <span class='op'>=</span> <span class='qwords_beg'>%w{</span><span class='tstring_content'>Tomato</span><span class='words_sep'> </span><span class='tstring_content'>Cheese</span><span class='words_sep'> </span><span class='tstring_content'>Tortilla</span><span class='words_sep'>}</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Making a bowl of </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_soups'>soups</span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>

  <span class='kw'>def</span> <span class='id identifier rubyid_salad'>salad</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Making a salad</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span>

<span class='id identifier rubyid_fs'>fs</span> <span class='op'>=</span> <span class='const'>FoodShop</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:sandwich</span><span class='rparen'>)</span>  <span class='comment'># Sandwich is default
</span><span class='const'>Dialog</span><span class='period'>.</span><span class='id identifier rubyid_checkboxes'>checkboxes</span><span class='lparen'>(</span><span class='id identifier rubyid_fs'>fs</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>What&#39;ll it be?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='comment'># Suppose user selects sandwich and soup...
</span><span class='comment'>### This prints:
</span><span class='comment'># Making a sandwich
</span><span class='comment'># Making a bowl of Cheese</span></code></pre>
    
      
        <p class="example_title"><div class='inline'><div class="paragraph">
<p>Using a block</p>
</div></div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_fs'>fs</span> <span class='op'>=</span> <span class='const'>FoodShop</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='symbol'>:sandwich</span><span class='rparen'>)</span>
<span class='const'>Dialog</span><span class='period'>.</span><span class='id identifier rubyid_checkboxes'>checkboxes</span><span class='lparen'>(</span><span class='id identifier rubyid_fs'>fs</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>What&#39;ll it be?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_food'>food</span><span class='op'>|</span>  <span class='comment'># Suppose the user selects soup and salad
</span>  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>You mean a </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_food'>food</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_content'>?</span><span class='tstring_end'>&quot;</span></span>
<span class='rbrace'>}</span>
<span class='comment'>### This prints:
</span><span class='comment'># You mean a :soup?
</span><span class='comment'># You mean a :salad?</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>choices</span>
      
      
        <span class='type'>(<tt>#members #default</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object of a class with the following characteristics:
* A <code>#members</code> method which returns a list of the choices available (as an array of symbols)
* A <code>#default</code> method which returns a symbol naming the attribute or method which will be preselected for the user
* Other methods of the object to be called when a choice is made, named according to symbols listed by #members
* OR: accessor methods with the same names as the symbols in #members, such as would be created by ruby&#8217;s built-in Struct.new
* Optionally, a <code>#text_of</code> method which takes a symbol and returns either nil or descriptive text to be shown to the user in place of that symbol</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>selection</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If a block is provided, it will be called with the selection, <strong>instead of</strong> the associated method on the choices object.</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>true if user made a selection, false if user pressed cancel or closed the window</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


268
269
270</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 268</span>

<span class='kw'>def</span> <span class='id identifier rubyid_checkboxes'>checkboxes</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selection'>selection</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:check</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="color-instance_method">
  
    - (<tt>Array&lt;Integer&gt; nil</tt>) <strong>color</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a color picker</p>
</div>

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Integer&gt; nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An array of [red, green, blue] 8-bit color components, or nil if <em>cancel</em> pressed.</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


420
421
422
423
424
425
426
427
428</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_color'>color</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getcolor</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_out'>out</span><span class='op'>|</span>
    <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_out'>out</span><span class='lbracket'>[</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid_out'>out</span><span class='lbracket'>[</span><span class='int'>3</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid_out'>out</span><span class='lbracket'>[</span><span class='int'>5</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='lparen'>(</span><span class='int'>16</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_c'>c</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dialogbox-instance_method">
  
    - (<tt>Boolean</tt>) <strong>dialogbox</strong>(text, yesno: true, cancel: false, continue_btn: false, warning: false) { ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a standard dialog box</p>
</div>
<div class="paragraph">
<p>The valid combinations of boolean parameters specifying the type of buttons available are as follows:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 100%;">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>YesNo</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Cancel</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Warning</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Continue</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
</tr>
</tbody>
</table>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>text</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text presented to the user above buttons.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>yesno</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, show "Yes" and "No" buttons.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>cancel</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, show a "Cancel" button.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>continue_btn</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, show a "Continue" button.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>warning</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, the icon shown is a warning icon, not a standard question icon</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><div class="paragraph">
<p>[] If the user makes a positive selection (yes or continue), the given
block is called.  If not, the block is ignored.</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>true, if the user selected yes or continue.  false, otherwise.</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dialogbox'>dialogbox</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>yesno:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>cancel:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>continue_btn:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>warning:</span> <span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_valid_dialogs'>valid_dialogs</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warningyesnocancel</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yesnocancel</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yesno</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warningyesno</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='comma'>,</span>
                   <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warningcontinuecancel</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>warning</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_warning'>warning</span> <span class='op'>==</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>yesno</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_yesno'>yesno</span> <span class='op'>==</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>continue</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_continue_btn'>continue_btn</span> <span class='op'>==</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>cancel</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_cancel'>cancel</span> <span class='op'>==</span> <span class='kw'>true</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_valid_dialogs'>valid_dialogs</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t make that kind of dialog box</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cmd'>cmd</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='kw'>and</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='kw'>true</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dropdown-instance_method">
  
    - (<tt>Boolean</tt>) <strong>dropdown</strong>(choices, label: &quot;Select one below&quot;) {|selection| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a dropdown box, calls the selected method on the choices object.</p>
</div>
<div class="paragraph">
<p>Alternatively, sets boolean properties on a Struct-like choices object.
Similar to a radio button selection; only one selection can be made.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>choices</span>
      
      
        <span class='type'>(<tt>#members #default</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object of a class with the following characteristics:
* A <code>#members</code> method which returns a list of the choices available (as an array of symbols)
* A <code>#default</code> method which returns a symbol naming the attribute or method which will be preselected for the user
* Other methods of the object to be called when a choice is made, named according to symbols listed by #members
* OR: accessor methods with the same names as the symbols in #members, such as would be created by ruby&#8217;s built-in Struct.new
* Optionally, a <code>#text_of</code> method which takes a symbol and returns either nil or descriptive text to be shown to the user in place of that symbol</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>selection</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If a block is provided, it will be called with the selection, <strong>instead of</strong> the associated method on the choices object.</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>true if user made a selection, false if user pressed cancel or closed the window</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 169</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dropdown'>dropdown</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Select one below</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--combobox</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_choices_to_text'>choices_to_text</span> <span class='op'>=</span> <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:text_of</span><span class='rparen'>)</span>
      <span class='lbracket'>[</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_text_of'>text_of</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='lbracket'>[</span><span class='id identifier rubyid_m'>m</span><span class='comma'>,</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_text_to_choices'>text_to_choices</span> <span class='op'>=</span> <span class='id identifier rubyid_choices_to_text'>choices_to_text</span><span class='period'>.</span><span class='id identifier rubyid_invert'>invert</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:default</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--default</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_choices_to_text'>choices_to_text</span><span class='lbracket'>[</span><span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='id identifier rubyid_choices_to_text'>choices_to_text</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
    <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='id identifier rubyid_text_to_choices'>text_to_choices</span><span class='lbracket'>[</span><span class='id identifier rubyid_sel'>sel</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_writer'>writer</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
        <span class='kw'>unless</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>==</span> <span class='id identifier rubyid_selected'>selected</span>
          <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>=</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_retval'>retval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="filepicker-instance_method">
  
    - (<tt>Array&lt;String&gt; String</tt>) <strong>filepicker</strong>(action: :save, type: :file, dir: ENV[&#39;HOME&#39;], multiple: false, filter: nil) {|path| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><div class="paragraph">
<p>Figure out what kinds of strings are expected of the filter parameter, write code to validate</p>
</div></div>
  </div>

<div class="paragraph">
<p>Present a file-picker box, for getting filenames or URLs from the user, for saving or opening.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>action</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>One of :save or :open</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>One of :url, :file, or :directory, indicating what kind of input is expected from the user</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>dir</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Directory to start the UI in, defaults to ENV[<em>HOME</em>]</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>multiple</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, allow the user to select multiple files. Only works when action is :open.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>filter</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>A description of what types of files should be displayed in directory listings</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt; String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The path (or paths) selected by the user</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt; String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The path (or paths) selected by the user</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 370</span>

<span class='kw'>def</span> <span class='id identifier rubyid_filepicker'>filepicker</span><span class='lparen'>(</span><span class='label'>action:</span> <span class='symbol'>:save</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:file</span><span class='comma'>,</span> <span class='label'>dir:</span> <span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>HOME</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='label'>multiple:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>filter:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--separate-output</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--multiple</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_multiple'>multiple</span> <span class='kw'>and</span> <span class='id identifier rubyid_action'>action</span> <span class='op'>==</span> <span class='symbol'>:open</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='kw'>case</span> <span class='lbracket'>[</span><span class='id identifier rubyid_action'>action</span><span class='comma'>,</span> <span class='id identifier rubyid_type'>type</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='lbracket'>[</span><span class='symbol'>:save</span><span class='comma'>,</span> <span class='symbol'>:file</span><span class='rbracket'>]</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getsavefilename</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='lbracket'>[</span><span class='symbol'>:save</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='rbracket'>]</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getsaveurl</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='lbracket'>[</span><span class='symbol'>:open</span><span class='comma'>,</span> <span class='symbol'>:file</span><span class='rbracket'>]</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getopenfilename</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='lbracket'>[</span><span class='symbol'>:open</span><span class='comma'>,</span> <span class='symbol'>:url</span><span class='rbracket'>]</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getopenurl</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:directory</span>
      <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--getexistingdirectory</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_dir'>dir</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_filter'>filter</span> <span class='kw'>unless</span> <span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span> <span class='op'>==</span> <span class='symbol'>:directory</span> <span class='kw'>or</span> <span class='id identifier rubyid_filter'>filter</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_input'>input</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_multiple'>multiple</span>
        <span class='id identifier rubyid_param'>param</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_param'>param</span> <span class='op'>=</span> <span class='id identifier rubyid_input'>input</span>
      <span class='kw'>end</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_param'>param</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_input'>input</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_multiple'>multiple</span>
      <span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\n</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_input'>input</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="icon-instance_method">
  
    - (<tt>Array&lt;(String, Boolean)&gt;</tt>) <strong>icon</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present an icon picker</p>
</div>
<div class="paragraph">
<p>Allows the user to choose an icon among those available to KDE.</p>
</div>

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;(String, Boolean)&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The return value from #run</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


413
414
415</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 413</span>

<span class='kw'>def</span> <span class='id identifier rubyid_icon'>icon</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--geticon</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--help</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="inputbox-instance_method">
  
    - (<tt>Array&lt;(String, Boolean)&gt;</tt>) <strong>inputbox</strong>(prompt: &quot;Input some text&quot;, content: nil, height: 1, width: 40, password: false) {|input| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present an input box.  It may be a one-line field, a password field, or a larger text-entry area potentially with scrollbars.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>prompt</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to prompt the user, above the input fields</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>content</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The initial value in the input box</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>height</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The height of the input field.  If 1, presents a single-line input field.
If larger, presents a text box that can potentially scroll vertically and horizontally.  Defaults to 1</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>width</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The width of the input field.  Note that this does not limit the amount of text
the user may return, only how much can be seen on the screen at once.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>password</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>When true, use a <em>key</em> icon and only show dots in place of input characters.
When this is true, the height parameter is required to be 1, otherwise this option has no effect.</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>input</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>the text provided by the user</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;(String, Boolean)&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The return value from #run</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 124</span>

<span class='kw'>def</span> <span class='id identifier rubyid_inputbox'>inputbox</span><span class='lparen'>(</span><span class='label'>prompt:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Input some text</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>content:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>40</span><span class='comma'>,</span> <span class='label'>password:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>==</span> <span class='int'>1</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>==</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--password</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--inputbox</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>&gt;</span> <span class='int'>1</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--textinputbox</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_prompt'>prompt</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_password'>password</span> <span class='op'>==</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_content'>content</span> <span class='kw'>if</span> <span class='id identifier rubyid_content'>content</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_height'>height</span> <span class='op'>&gt;</span> <span class='int'>1</span>
      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--height</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--width</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>40</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="messagebox-instance_method">
  
    - (<tt>true</tt>) <strong>messagebox</strong>(text, type: :msgbox) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a message box, for displaying a little text to the user.
For longer, multi-line text, you may prefer to use #textbox.
Contrasting with the standard dialog boxes, the button presented to the user
  only has the effect of closing the box.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>:msgbox :sorry :error</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The type of message box, affects the choice of icon shown in the box</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The value of type is something other than :msgbox, :sorry, or :error</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


83
84
85
86
87
88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 83</span>

<span class='kw'>def</span> <span class='id identifier rubyid_messagebox'>messagebox</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:msgbox</span><span class='rparen'>)</span>
  <span class='kw'>unless</span> <span class='lbrace'>{</span><span class='symbol'>:msgbox</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:sorry</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='comma'>,</span> <span class='symbol'>:error</span> <span class='op'>=&gt;</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='id identifier rubyid_type'>type</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Can&#39;t make that kind of message box</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmdtype'>cmdtype</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_type'>type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdtype'>cmdtype</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="notification-instance_method">
  
    - (<tt>Object</tt>) <strong>notification</strong>(text, timeout: 3) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Raise a notification for the user. This doesn&#8217;t bring up a window that takes focus,
just a little box (usually above the taskbar) in the notification area that goes away by itself.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>text</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to show in the notification</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>timeout</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The number of seconds to show the notification for</p>
</div></div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


356
357
358</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 356</span>

<span class='kw'>def</span> <span class='id identifier rubyid_notification'>notification</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>timeout:</span> <span class='int'>3</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--passivepopup</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_timeout'>timeout</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="progressbar-instance_method">
  
    - (<tt><span class='object_link'><a href="KDialog/ProgressBar.html" title="Dialog::KDialog::ProgressBar (class)">ProgressBar</a></span></tt>) <strong>progressbar</strong>(steps: 100, title: &quot;Progress Bar&quot;, show_cancel: false, label: &quot;Working...&quot;, autoclose: true) {|bar| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a progress bar to the user; returns an object to control its desplay</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>steps</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Number of increments in the progress bar.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>title</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Text to display in the titlebar of the window</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>show_cancel</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, display a cancel button for the user to request early stop of work</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Text to display above the progress bar, typically providing information about current activity</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>autoclose</span>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>If true, the window will close when the progress is set to the highest value</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>bar</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="KDialog/ProgressBar.html" title="Dialog::KDialog::ProgressBar (class)">ProgressBar</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object for manipulating state of the progress bar, ensures proper closing at block exit</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="KDialog/ProgressBar.html" title="Dialog::KDialog::ProgressBar (class)">ProgressBar</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object for manipulating state of the progress bar</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


533
534
535
536
537
538
539
540</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 533</span>

<span class='kw'>def</span> <span class='id identifier rubyid_progressbar'>progressbar</span><span class='lparen'>(</span><span class='label'>steps:</span> <span class='int'>100</span><span class='comma'>,</span> <span class='label'>title:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Progress Bar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>show_cancel:</span> <span class='kw'>false</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Working...</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>autoclose:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='const'>Open3</span><span class='period'>.</span><span class='id identifier rubyid_capture2'>capture2</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kdialog</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--progressbar</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span><span class='comma'>,</span> <span class='id identifier rubyid_steps'>steps</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>!=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kdialog exited unexpectedly</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_servicename'>servicename</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\s+</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span>
  <span class='const'>ProgressBar</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_servicename'>servicename</span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='label'>autoclose:</span> <span class='id identifier rubyid_autoclose'>autoclose</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="radiobuttons-instance_method">
  
    - (<tt>Boolean</tt>) <strong>radiobuttons</strong>(choices, label: &quot;&quot;, &amp;blk) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a set of radio buttons to the user, calls the selected method on the choices object.</p>
</div>
<div class="paragraph">
<p>Alternatively, sets boolean properties on a Struct-like choices object.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>choices</span>
      
      
        <span class='type'>(<tt>#members #default</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object of a class with the following characteristics:
* A <code>#members</code> method which returns a list of the choices available (as an array of symbols)
* A <code>#default</code> method which returns a symbol naming the attribute or method which will be preselected for the user
* Other methods of the object to be called when a choice is made, named according to symbols listed by #members
* OR: accessor methods with the same names as the symbols in #members, such as would be created by ruby&#8217;s built-in Struct.new
* Optionally, a <code>#text_of</code> method which takes a symbol and returns either nil or descriptive text to be shown to the user in place of that symbol</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>true if user made a selection, false if user pressed cancel or closed the window</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_radiobuttons'>radiobuttons</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_selection'>selection</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:radio</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="run-instance_method">
  
    - (<tt>Array&lt;(String, Boolean)&gt;</tt>) <strong>run</strong>(arglist) {|output| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<div class="paragraph">
<p>Returns The return value from #run</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>arglist</span>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>List of command-line arguments for kdialog</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>output</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The output of running kdialog</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;(String, Boolean)&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The return value from #run</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>StandardError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Any exception raised by Open3#capture2</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


584
585
586
587
588
589
590
591
592
593
594
595
596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 584</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_arglist'>arglist</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_blk'>blk</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>kdialog</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_arglist'>arglist</span>
  <span class='id identifier rubyid_output'>output</span><span class='comma'>,</span> <span class='id identifier rubyid_code'>code</span> <span class='op'>=</span> <span class='const'>Open3</span><span class='period'>.</span><span class='id identifier rubyid_capture2'>capture2</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_code'>code</span><span class='period'>.</span><span class='id identifier rubyid_exitstatus'>exitstatus</span>
           <span class='kw'>when</span> <span class='int'>0</span> <span class='kw'>then</span> <span class='kw'>true</span>
           <span class='kw'>when</span> <span class='int'>1</span> <span class='kw'>then</span> <span class='kw'>false</span>
           <span class='kw'>else</span> <span class='kw'>false</span>
           <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span> <span class='kw'>and</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='kw'>true</span>
    <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_output'>output</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="selection-instance_method">
  
    - (<tt>Boolean</tt>) <strong>selection</strong>(choices, label: &quot;&quot;, type: :check) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<div class="paragraph">
<p>Implementation of radiobuttons and checkboxes.</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>choices</span>
      
      
        <span class='type'>(<tt>#members #default</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An object of a class with the following characteristics:
* A <code>#members</code> method which returns a list of the choices available (as an array of symbols)
* A <code>#default</code> method which returns a symbol naming the attribute or method which will be preselected for the user
* Other methods of the object to be called when a choice is made, named according to symbols listed by #members
* OR: accessor methods with the same names as the symbols in #members, such as would be created by ruby&#8217;s built-in Struct.new
* Optionally, a <code>#text_of</code> method which takes a symbol and returns either nil or descriptive text to be shown to the user in place of that symbol</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>type</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>Either :check (for checkboxes, multiple selections allowed) or :radio, (for
radio buttons, only one selection)</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>true if user made a selection, false if user pressed cancel or closed the window</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'></span>
      
      
      
        
        <div class='inline'><div class="paragraph">
<p>UnknownSelectionType If type is something other than :check or :radio</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 292</span>

<span class='kw'>def</span> <span class='id identifier rubyid_selection'>selection</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>type:</span> <span class='symbol'>:check</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--separate-output</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='kw'>case</span> <span class='id identifier rubyid_type'>type</span>
  <span class='kw'>when</span> <span class='symbol'>:check</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--checklist</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:radio</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--radiolist</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>when</span> <span class='symbol'>:dropdown</span>

  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>UnknownSelectionType</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown selection type</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_label'>label</span>
  <span class='id identifier rubyid_default'>default</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:default</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_default'>default</span>
            <span class='kw'>else</span>
              <span class='kw'>nil</span>
            <span class='kw'>end</span>
  <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:text_of</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_text_of'>text_of</span><span class='lparen'>(</span><span class='id identifier rubyid_c'>c</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span> <span class='op'>==</span> <span class='id identifier rubyid_default'>default</span>
      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>on</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>+=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>off</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_sel'>sel</span><span class='op'>|</span>
    <span class='id identifier rubyid_retval'>retval</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_offsets'>offsets</span> <span class='op'>=</span> <span class='id identifier rubyid_sel'>sel</span><span class='period'>.</span><span class='id identifier rubyid_each_line'>each_line</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span> <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_chomp'>chomp</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_selected'>selected</span> <span class='op'>=</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span><span class='period'>.</span><span class='id identifier rubyid_values_at'>values_at</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_offsets'>offsets</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_found_writer'>found_writer</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='id identifier rubyid_selected'>selected</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_method'>method</span> <span class='op'>=</span> <span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
      <span class='id identifier rubyid_writer'>writer</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
        <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_found_writer'>found_writer</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='comment'># Not selected
</span>    <span class='lparen'>(</span><span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_members'>members</span> <span class='op'>-</span> <span class='id identifier rubyid_selected'>selected</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_m'>m</span><span class='op'>|</span>
      <span class='id identifier rubyid_writer'>writer</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_m'>m</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>=</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_sym'>to_sym</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_choices'>choices</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_writer'>writer</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_retval'>retval</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="slider-instance_method">
  
    - (<tt>Integer nil</tt>) <strong>slider</strong>(label: &quot;Choose an amount&quot;, range: Range.new(0, 10), step: 1) {|n| ... }
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Prompt for a number with a horizontal sliding numeric input</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>label</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to display above input fields</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>range</span>
      
      
        <span class='type'>(<tt>Range</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The range of numbers the horizontal space maps to</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>step</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The distance between each point along the range</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>n</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The number selected by the user, if any.  Otherwise, the block is not run.</p>
</div></div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Integer nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>An integer, or nil if user canceled</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


566
567
568
569
570
571
572
573
574
575
576
577</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 566</span>

<span class='kw'>def</span> <span class='id identifier rubyid_slider'>slider</span><span class='lparen'>(</span><span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Choose an amount</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='label'>range:</span> <span class='const'>Range</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>10</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='label'>step:</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cmd'>cmd</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--slider</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_begin'>begin</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_range'>range</span><span class='period'>.</span><span class='id identifier rubyid_end'>end</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_step'>step</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_out'>out</span><span class='comma'>,</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>=</span> <span class='op'>*</span><span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_status'>status</span> <span class='op'>==</span> <span class='kw'>false</span> <span class='comment'># NOTE: same issue as in calendar
</span>    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_out'>out</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
      <span class='kw'>yield</span><span class='lparen'>(</span><span class='id identifier rubyid_n'>n</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_n'>n</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="textbox-instance_method">
  
    - (<tt>Array&lt;(String, Boolean)&gt;</tt>) <strong>textbox</strong>(text, height: 10, width: 40) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <div class="paragraph">
<p>Present a window for showing the user a large amount of text, potentially using
horizontal and vertical scrollbars.  For small amounts of text, use #messagebox</p>
</div>

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>text</span>
      
      
        <span class='type'>(<tt>String IO</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The text to send to the user, or a readable IO object.</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>height</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The height of the textbox area, defaults to 10</p>
</div></div>
      
    </li>
  
    <li>
      
        <span class='name'>width</span>
      
      
        <span class='type'>(<tt>Integer</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The width of the textbox area, defaults to 40</p>
</div></div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;(String, Boolean)&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><div class="paragraph">
<p>The return value from #run</p>
</div></div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


99
100
101
102
103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/dialog/kdialog.rb', line 99</span>

<span class='kw'>def</span> <span class='id identifier rubyid_textbox'>textbox</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='label'>height:</span> <span class='int'>10</span><span class='comma'>,</span> <span class='label'>width:</span> <span class='int'>40</span><span class='rparen'>)</span>
  <span class='const'>Tempfile</span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dialogfu</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tf'>tf</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='symbol'>:read</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_tf'>tf</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_tf'>tf</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_tf'>tf</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
    <span class='id identifier rubyid_run'>run</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--textbox</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--height</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>--width</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_width'>width</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tf'>tf</span><span class='period'>.</span><span class='id identifier rubyid_unlink'>unlink</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jul 10 20:48:28 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.2).
</div>

  </body>
</html>